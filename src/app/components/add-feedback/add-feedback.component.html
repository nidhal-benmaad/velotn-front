<div style="width: 400px; margin: auto;">
  <h5>We want your feedback</h5>
  <div class="submit-form">
    <div *ngIf="!submitted">
      <div class="form-group">
        <label for="name">Nom: </label>
        <input
          type="text"
          class="form-control"
          id="name"
          required
          [(ngModel)]="feedback.nom"
          name="name"
        />
      </div>

      <div class="form-group">
        <label for="prenom">Prenom: </label>
        <input
          type="text"
          class="form-control"
          id="prenom"
          required
          [(ngModel)]="feedback.prenom"
          name="prenom"
        />
      </div>

      <div class="form-group">
        <label for="mail">Mail: </label>
        <input
        [class.is-invalid]="email.invalid && email.touched" required
          #email="ngModel"
          type="email"
          class="form-control"
          id="mail"
          pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" 
          [(ngModel)]="feedback.mail"
          name="mail"
        />
      </div>
      <div *ngIf="email.errors && (email.invalid && email.touched)">
        <small class="text-danger" *ngIf="email.errors.required">email is required</small>
        <small class="text-danger" *ngIf="email.errors.pattern">Please provide a valid email address</small>
      </div>
      <div class="form-group">
        <label for="detail"></label>
        <textarea class="form-control"  id="detail"
        required
        [(ngModel)]="feedback.detail"
        name="detail"></textarea>
      </div>
      <div class="form-group">
        <label>Note</label>
          <input
            class="rating"
            max="5"
            oninput="this.style.setProperty('--value', `${this.valueAsNumber}`)"
            step="1"
            style="--stars:5;--value:2"
            type="range"
            [(ngModel)]="feedback.stars">
      </div>

      <button (click)="saveFeedback()" [disabled]="email.invalid" class="btn btn-success">Submit</button>
    </div>

    <div *ngIf="submitted">
      <h4>You submitted successfully!</h4>
      <button class="btn btn-success" (click)="newFeedback()">Add</button>
    </div>
  </div>
</div>
